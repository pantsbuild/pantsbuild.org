---
title: filter
description: |
  Filter the input targets based on various criteria.
---

import Option from "@site/src/components/reference/Option";
import styles from "@site/src/components/reference/styles.module.css";

---

Filter the input targets based on various criteria.

Most of the filtering options below are comma-separated lists of filtering criteria, with an implied logical OR between them, so that a target passes the filter if it matches any of the criteria in the list.

A &#x27;-&#x27; prefix inverts the sense of the entire comma-separated list, so that a target passes the filter only if it matches _none_ of the criteria in the list.

Each of the filtering options may be specified multiple times, with an implied logical AND between them.

Backend: <span className="color--primary">`pants.backend.project_info`</span>

Config section: <span className="color--primary">`[filter]`</span>

<span className={styles.options}>

## Basic options

### `address_regex`

<Option
  cli_repr={`--filter-address-regex="[[+-]regex1,regex2,..., [+-]regex1,regex2,..., ...]"`}
  env_repr='PANTS_FILTER_ADDRESS_REGEX'
  toml_repr={`[filter]
address_regex = [
    [+-]regex1,regex2,...,
    [+-]regex1,regex2,...,
    ...,
]`}
  default_repr={`[]`}
>

Filter targets based on each target&#x27;s address matching the provided regular expressions.

The regular expressions are parsed by the Python `re` module. The syntax is documented at https://docs.python.org/3/library/re.html#regular-expression-syntax.

As with any target filter, a `-` prefix will negate matches for purposes of filtering; that is, the filter will include a target only if the target&#x27;s adddress fails to match all of the provided regular expressions.

</Option>

### `granularity`

<Option
  cli_repr={`--filter-granularity=<TargetGranularity>`}
  env_repr='PANTS_FILTER_GRANULARITY'
  toml_repr={`[filter]
granularity = <TargetGranularity>`}
  one_of='all, file, BUILD'
  default_repr={`all`}
>

Filter to rendering only targets declared in BUILD files, only file-level targets, or all targets.

</Option>

### `output_file`

<Option
  cli_repr={`--filter-output-file=<path>`}
  env_repr='PANTS_FILTER_OUTPUT_FILE'
  toml_repr={`[filter]
output_file = <path>`}
  default_repr={`None`}
>

Output the goal&#x27;s stdout to this file. If unspecified, outputs to stdout.

</Option>

### `sep`

<Option
  cli_repr={`--filter-sep=<separator>`}
  env_repr='PANTS_FILTER_SEP'
  toml_repr={`[filter]
sep = <separator>`}
  default_repr={`\\n`}
>

String to use to separate lines in line-oriented output.

</Option>

### `tag_regex`

<Option
  cli_repr={`--filter-tag-regex="[[+-]regex1,regex2,..., [+-]regex1,regex2,..., ...]"`}
  env_repr='PANTS_FILTER_TAG_REGEX'
  toml_repr={`[filter]
tag_regex = [
    [+-]regex1,regex2,...,
    [+-]regex1,regex2,...,
    ...,
]`}
  default_repr={`[]`}
>

Filter targets based on whether any of each target&#x27;s tags (in the target&#x27;s `tags` field) matches the provided regular expressions.

The regular expressions are parsed by the Python `re` module. The syntax is documented at https://docs.python.org/3/library/re.html#regular-expression-syntax.

As with any target filter, a `-` prefix will negate matches for purposes of filtering; that is, the filter will include a target only if all of the target&#x27;s tags fail to match all of the provided regular expressions.

</Option>

### `target_type`

<Option
  cli_repr={`--filter-target-type="[[+-]type1,type2,..., [+-]type1,type2,..., ...]"`}
  env_repr='PANTS_FILTER_TARGET_TYPE'
  toml_repr={`[filter]
target_type = [
    [+-]type1,type2,...,
    [+-]type1,type2,...,
    ...,
]`}
  default_repr={`[]`}
>

Filter targets based each targets&#x27;s target type, e.g. `resources` or `python_sources`.

As with any target filter, a `-` prefix will negate matches for purposes of filtering; that is, the filter will include a target only if the target&#x27;s target type fails to match all of the provided values.

</Option>

## Advanced options

None

## Deprecated options

None

## Related subsystems

None

</span>

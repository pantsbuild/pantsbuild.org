---
title: helm-infer
description: |
  Options controlling which dependencies will be inferred for Helm targets.
---

import Option from "@site/src/components/reference/Option";
import styles from "@site/src/components/reference/styles.module.css";

---

Options controlling which dependencies will be inferred for Helm targets.

Backend: <span className="color--primary">`pants.backend.experimental.helm.check.kubeconform`</span>

Config section: <span className="color--primary">`[helm-infer]`</span>

<span className={styles.options}>

## Basic options

### `external_docker_images`

<Option
  cli_repr={`--helm-infer-external-docker-images="['<str>', '<str>', ...]"`}
  env_repr='PANTS_HELM_INFER_EXTERNAL_DOCKER_IMAGES'
  toml_repr={`[helm-infer]
external_docker_images = [
    '<str>',
    '<str>',
    ...,
]`}
  default_repr={`[]`}
>

Docker image names that are not provided by targets in this repository and should be ignored for calculating dependencies.

For example, adding `python` to this setting will cause Pants to not try to find the target `python:3.10` in the following `helm_deployment`:

`&#x60;` helm_deployment(
name=&#x22;my-deployment&#x22;,
chart=&#x22;:mychart&#x22;,
values=&#123;&#x22;container.image_ref&#x22;: &#x22;python:3.10&#x22;&#125;,
) `&#x60;`

Use Python fnmatch glob syntax (ex: &#x27;docker.io/\*&#x27;) to disable this check for certain images or patterns. This will limit Pants&#x27;s ability to warn on unknown docker images.

</Option>

### `unowned_dependency_behavior`

<Option
  cli_repr={`--helm-infer-unowned-dependency-behavior=<UnownedHelmDependencyUsage>`}
  env_repr='PANTS_HELM_INFER_UNOWNED_DEPENDENCY_BEHAVIOR'
  toml_repr={`[helm-infer]
unowned_dependency_behavior = <UnownedHelmDependencyUsage>`}
  one_of='error, warning, ignore'
  default_repr={`error`}
>

How to handle inferred dependencies that don&#x27;t have an inferable owner.

Usually when an import cannot be inferred, it represents an issue like Pants not being properly configured, e.g. targets not set up. Often, missing dependencies will result in confusing runtime errors where Docker images haven&#x27;t been published, so this option can be helpful to error more eagerly.

</Option>

## Advanced options

### `deployment_dependencies`

<Option
  cli_repr={`--[no-]helm-infer-deployment-dependencies`}
  env_repr='PANTS_HELM_INFER_DEPLOYMENT_DEPENDENCIES'
  toml_repr={`[helm-infer]
deployment_dependencies = <bool>`}
  default_repr={`True`}
>

If true, parse k8s manifests generated by helm to find dependencies on other targets like docker images.

</Option>

## Deprecated options

None

## Related subsystems

None

</span>

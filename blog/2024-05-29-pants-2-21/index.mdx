---
  authors: [cburroughs]
  tags: [announcement]
  # The release happened on this date, despite what the file name implies (which is when this post was authored)
  date: 2024-05-29
---

# Pants 2.21.0 is released!

<CaptionedImg src={require("./splash.jpeg").default}>
  Photo by [Joshua Kettle](https://unsplash.com/@joshuakettle) /
  [Unsplash](https://unsplash.com/photos/a-purple-and-purple-sky-with-trees-in-the-foreground-tr1nv_cLVP0)
</CaptionedImg>

{/* truncate */}

We are pleased to announce Pants [2.21.0](<(https://github.com/pantsbuild/pants/tree/2.21.x/src/python/pants/notes/2.21.x.md)>), the latest release of [Pantsbuild, the scalable and ergonomic build system](https://www.pantsbuild.org/). To update, set `pants_version = "2.21.0"` in your `pants.toml`. If you're not using Pants yet, [get started now](https://www.pantsbuild.org/docs/getting-started).

_Highlights in [2.21](<(https://github.com/pantsbuild/pants/tree/2.21.x/src/python/pants/notes/2.21.x.md)>) include_:

- üß™ All backends now support [`[test].attempts_default`](https://www.pantsbuild.org/2.21/reference/goals/test#attempts_default)
- ‚ö° Pants internal manipulation of Python dependencies by way of [Pex](https://docs.pex-tool.org/) is now [substantially faster](https://github.com/pantsbuild/pants/blob/2.21.x/src/python/pants/notes/2.21.x.md#python) in many cases.
- üìú The [`__defaults__`](https://www.pantsbuild.org/2.21/docs/using-pants/key-concepts/targets-and-build-files#field-default-values) symbol will now set default values for generated targets too. For instance, `__defaults__({python_source: dict(skip_black=True)})` will now apply to the `python_source` targets generated by a python_sources target, without having to write `__defaults__({(python_source, python_sources): ...})`
- ‚ôª When running in CI, Pants will output a command to [rerun only the failed tests](https://www.pantsbuild.org/2.21/reference/goals/test#show_rerun_command).
- üêç All built in lockfiles are now Python 3.12 ready.
- üö° As part of regenerating lockfiles for Python 3.12, the default version of most builtin Python tools has been updated.
- üê≥ The [`cache_from` field](https://www.pantsbuild.org/2.21/reference/targets/docker_image#cache_from) on `docker_image` now supports multiple values.
- üèú The `experimental-deploy` goal now has built-in support for the [`--dry-run` option](https://www.pantsbuild.org/2.21/reference/goals/experimental-deploy#dry_run).
- ü™ú Scalafix can now be run by Pants using the [new `pants.backend.experimental.scala.lint.scalafix` backend](https://www.pantsbuild.org/2.21/docs/jvm/java-and-scala#fix-scala-code).
- üìà And lots of smaller features, update, bugfixes, and general improvements

Check out the [full release notes](https://github.com/pantsbuild/pants/tree/2.21.x/src/python/pants/notes/2.21.x.md). Pants is an open-source project, and the changes are all contributed by our community. If you want to see something more in the next changelog, join us on [GitHub](https://github.com/pantsbuild/pants) and become a contributor.

We also offer [formal sponsorship tiers for companies](https://www.pantsbuild.org/sponsorship), as well as individual sponsorships via [GitHub](https://github.com/sponsors/pantsbuild). These help pay for the ongoing development and hosting costs, and are managed by the Pants Build non-profit organization.

To see Pants in action, explore our example repositories:

- [example-python](https://github.com/pantsbuild/example-python)
- [example-adhoc](https://github.com/pantsbuild/example-adhoc/)
- [example-codegen](https://github.com/pantsbuild/example-codegen)
- [example-docker](https://github.com/pantsbuild/example-docker)
- [example-golang](https://github.com/pantsbuild/example-golang)
- [example-javascript](https://github.com/pantsbuild/example-javascript)
- [example-jvm](https://github.com/pantsbuild/example-jvm)
- [example-kotlin](https://github.com/pantsbuild/example-kotlin)
- [example-visibility](https://github.com/pantsbuild/example-visibility)

And let us know what you think in [Slack!](https://www.pantsbuild.org/docs/getting-help)

Pants wouldn't be possible without everyone who contributed to 2.21.0, including everyone who shared feedback on changes and who tested release candidates! Thank you very much!
